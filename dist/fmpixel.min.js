// Feedmob Tracking Pixel
!function(i,u,r){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return null!=t&&""!==t}function c(){return+new Date}var f={id:"",version:1},m=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" "))},g=function(){return"ontouchstart"in u},l=function(){return i.navigator.userAgent},n={prefix:function(){return"__fmpix_"},set:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:"/",o="";if(s(n)){var a=new Date;a.setTime(a.getTime()+60*n*1e3),o="; expires="+a.toGMTString()}u.cookie=this.prefix()+t+"="+e+o+"; path="+i+"; SameSite=Lax"},get:function(t){t=this.prefix()+t+"=";for(var e=u.cookie.split(";"),n=0;n<e.length;n++){for(var r=e[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}},delete:function(t){this.set(t,"",-100)},exists:function(t){return s(this.get(t))},setUtms:function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(s(x.getParameterByName(t[n]))){e=!0;break}if(e){var i,o={};for(n=0,r=t.length;n<r;n++)i=x.getParameterByName(t[n]),s(i)&&(o[t[n]]=i);this.set("utm",JSON.stringify(o))}},getUtm:function(t){if(this.exists("utm")){var e=JSON.parse(this.get("utm"));return t in e?e[t]:""}},setFms:function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(s(x.getParameterByName(t[n]))){e=!0;break}if(e){var i,o={};for(n=0,r=t.length;n<r;n++)i=x.getParameterByName(t[n]),s(i)&&(o[t[n]]=i);this.set("fm",JSON.stringify(o),1051200)}},getFm:function(t){if(this.exists("fm")){var e=JSON.parse(this.get("fm"));return t in e?e[t]:""}}},h={prefix:function(){return"__fmpix_"},set:function(t,e){localStorage.setItem(this.prefix()+t,e)},get:function(t){return localStorage.getItem(this.prefix()+t)},delete:function(t){localStorage.removeItem(t)},exists:function(t){return s(this.get(t))},setUtms:function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(s(x.getParameterByName(t[n]))){e=!0;break}if(e){var i,o={};for(n=0,r=t.length;n<r;n++)i=x.getParameterByName(t[n]),s(i)&&(o[t[n]]=i);this.set("utm",JSON.stringify(o))}},getUtm:function(t){if(this.exists("utm")){var e=JSON.parse(this.get("utm"));return t in e?e[t]:""}},setFms:function(t){for(var e=!1,n=0,r=t.length;n<r;n++)if(s(x.getParameterByName(t[n]))){e=!0;break}if(e){var i,o={};for(n=0,r=t.length;n<r;n++)i=x.getParameterByName(t[n]),s(i)&&(o[t[n]]=i);this.set("fm",JSON.stringify(o),1051200)}},getFm:function(t){if(this.exists("fm")){var e=JSON.parse(this.get("fm"));return t in e?e[t]:""}}},t=function(){var t=n.get("uid");!1===s(t)&&(t=h.get("uid")),!1===s(t)&&(t=f.version+"-xxxxxxxx-".replace(/[x]/g,function(t){var e=36*Math.random()|0;return("x"==t?e:3&e|8).toString(36)})+(+new Date).toString(36)),n.set("uid",t,1051200),h.set("uid",t)},p=function(){var t=n.get("uid");return!1===s(t)?h.get("uid"):t},e=function(){var t=["utm_source","utm_medium","utm_term","utm_content","utm_campaign","utm_partner"];n.setUtms(t),h.setUtms(t)},d=function(t){var e=n.getUtm(t);return!1===s(e)?h.getUtm(t):e},v=function(){var t=["fm_click_id","fm_publisher_id","fm_conversion_id"];n.setFms(t),h.setFms(t)},y=function(t){var e=n.getFm(t);return!1===s(e)?h.getFm(t):e},x={getParameterByName:function(t,e){e=e||i.location.href,t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)","i").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},externalHost:function(t){return t.hostname!=location.hostname&&0===t.protocol.indexOf("http")}},b=function(){function r(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.params=[],this.event=t,this.timestamp=e,this.optional=function t(e){return!1===s(e)?"":"object"===a(e)?t(JSON.stringify(e)):"function"==typeof e?t(e()):String(e)}(n),this.buildParams(),this.send()}var t,e,n;return t=r,(e=[{key:"buildParams",value:function(){var t=this.getAttribute();for(var e in t)t.hasOwnProperty(e)&&this.setParam(e,t[e](e))}},{key:"getAttribute",value:function(){var t=this;return{id:function(){return f.id},uid:function(){return p()},ev:function(){return t.event},ed:function(){return t.optional},v:function(){return f.version},dl:function(){return i.location.href},rl:function(){return u.referrer},ts:function(){return t.timestamp},de:function(){return u.characterSet},sr:function(){return i.screen.width+"x"+i.screen.height},vp:function(){return i.innerWidth+"x"+i.innerHeight},cd:function(){return i.screen.colorDepth},dt:function(){return u.title},bn:function(){return m()},md:function(){return g()},ua:function(){return l()},tz:function(){return(new Date).getTimezoneOffset()},utm_source:function(t){return d(t)},utm_medium:function(t){return d(t)},utm_term:function(t){return d(t)},utm_content:function(t){return d(t)},utm_campaign:function(t){return d(t)},utm_partner:function(t){return d(t)},fm_click_id:function(t){return y(t)},fm_publisher_id:function(t){return y(t)},fm_conversion_id:function(t){return y(t)}}}},{key:"setParam",value:function(t,e){s(e)?this.params.push("".concat(t,"=").concat(encodeURIComponent(e))):this.params.push("".concat(t,"="))}},{key:"send",value:function(){this.sendImage()}},{key:"sendBeacon",value:function(){i.navigator.sendBeacon(this.getSourceUrl())}},{key:"sendImage",value:function(){this.img=u.createElement("img"),this.img.src=this.getSourceUrl(),this.img.style.display="none",this.img.width="1",this.img.height="1",u.getElementsByTagName("body")[0].appendChild(this.img)}},{key:"getSourceUrl",value:function(){return"".concat("https://pixel-api.feedmob.biz/tracker","?").concat(this.params.join("&"))}}])&&o(t.prototype,e),n&&o(t,n),r}();t(),e(),v(),r.process=function(t,e,n){"init"==t?f.id=e:"event"==t&&("pageload"!=e||f.pageLoadOnce?"pageload"!=e&&"pageclose"!=e&&new b(e,c(),n):(f.pageLoadOnce=!0,new b(e,r.t,n)))};for(var _=0,S=r.queue.length;_<S;_++)r.process.apply(r,r.queue[_]);i.addEventListener("unload",function(){f.pageCloseOnce||(f.pageCloseOnce=!0,new b("pageclose",c(),function(){if(s(f.externalHost)&&c()-f.externalHost.time<5e3)return f.externalHost.link}))}),i.onload=function(){for(var t=u.getElementsByTagName("a"),e=0,n=t.length;e<n;e++)t[e].addEventListener("click",function(t){x.externalHost(this)&&(f.externalHost={link:this.href,time:c()})}.bind(t[e]))}}(window,document,window.fmpix);